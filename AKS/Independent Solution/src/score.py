############################################################################################
###                 PLATFORM CONFIG 
############################################################################################

import logging
import datetime
import json
import pandas as pd
import numpy as np
import pickle
import os
import sys


def init(model_name):

    global model

    ############################################################################################
    ###                 LOADING THE MODEL
    ############################################################################################
    
    dir_path = os.path.dirname(os.path.abspath(__file__))
    
    modelfile = open(dir_path+"/"+model_name, "rb")  
    model = pickle.load(modelfile)

############################################################################################
###                                     MODEL RUN 
############################################################################################
def run(dt):

    ############################################################################################
    ###                 Data pre processing
    ############################################################################################
    result_df = dt


    ############################################################################################
    ###                 PREDICT THE RESULT
    ############################################################################################
    # Sample_Input_tran =input_data

    pred_result = model.predict(result_df)
    pred_proba = model.predict_proba(result_df)[::,1]

    return pred_result,pred_proba
